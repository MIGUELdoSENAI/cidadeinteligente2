<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bueiro Inteligente - Cidades Inteligentes</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="/css/cliente.css">
</head>
<body>
    <header>
        <nav class="container">
            <div class="nav-brand">
                <div class="logo" onclick="showPage(currentUser ? 'bueiros' : 'home')">Bueiro Inteligente</div>
            </div>

            <div class="nav-controls">
                <button id="theme-toggle" class="theme-toggle-btn" aria-label="Alternar tema">
                    <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
                    <svg class="moon-icon" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
                </button>
                
                <button class="mobile-menu-btn" onclick="toggleMobileMenu()" aria-label="Menu">
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
                </button>
            </div>

            <div id="nav-content" class="nav-content">
                <div class="nav-buttons" id="nav-buttons">
                    <button class="btn btn-secondary" onclick="showPage('contato'); toggleMobileMenu(false)">Contato</button>
                    <button class="btn btn-secondary" onclick="showPage('register'); toggleMobileMenu(false)">Cadastre-se</button>
                    <button class="btn btn-primary" onclick="showPage('login'); toggleMobileMenu(false)">Entrar</button>
                </div>
                <div class="user-info" id="user-info" style="display: none;">
                    <div class="user-nav">
                        <button class="btn btn-secondary" onclick="showPage('bueiros'); toggleMobileMenu(false)">Monitoramento</button>
                        <button class="btn btn-primary" onclick="showPage('solicitar'); toggleMobileMenu(false)">Solicitar Novo</button>
                    </div>
                    <div class="user-profile-group">
                        <span id="user-name">Usu√°rio</span>
                        <div class="avatar" id="user-avatar">U</div>
                        <button class="btn btn-secondary btn-sm" onclick="logout(); toggleMobileMenu(false)">Sair</button>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main class="main-content">
        <div id="home" class="page active">
            <div class="hero container">
                <h1>Cidades Inteligentes, Futuro Sustent√°vel</h1>
                <p>Monitoramento de saneamento em tempo real e o impacto ambiental positivo gerado pelos bueiros inteligentes para um amanh√£ mais verde.</p>
                <button class="btn btn-primary" onclick="showPage('login')" style="font-size: 1.1rem; padding: 1rem 2rem;">Acessar Plataforma</button>
            </div>

            <div class="promo-section">
                <div class="container">
                    <h2>Nossos Bueiros Inteligentes: O Fim das Enchentes</h2>
                    <p>Com sensores de alta precis√£o, nosso sistema monitora 24/7 o n√≠vel de res√≠duos e o fluxo de √°gua, permitindo que a prefeitura atue de forma preditiva, evitando alagamentos e otimizando os custos com limpeza urbana.</p>
                    <div class="features-grid">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>
                            </div>
                            <h3>Preven√ß√£o Ativa</h3>
                            <p>Alertas autom√°ticos s√£o enviados para as equipes de limpeza antes que o bueiro atinja o n√≠vel cr√≠tico.</p>
                        </div>

                        <div class="feature-card">
                            <div class="feature-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.5 19.5 22 15l-4.5-4.5"></path><path d="M6.5 4.5 2 9l4.5 4.5"></path><path d="m2 15 4.5 4.5"></path><path d="m17.5 4.5 4.5 4.5"></path></svg>
                            </div>
                            <h3>Gest√£o Otimizada</h3>
                            <p>Reduza custos operacionais com coletas de lixo baseadas em dados reais, n√£o em cronogramas fixos.</p>
                        </div>

                        <div class="feature-card">
                            <div class="feature-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21.2 12.3c.3-.9.4-1.8.4-2.8A10 10 0 1 0 5.1 18"></path><path d="M10.6 13.7c.3-.9.4-1.8.4-2.8a4 4 0 1 0-3 3.6"></path><path d="m2 13 2.1 2.1c.1.1.3.2.4.2h3.1"></path><path d="M19 13.2a9 9 0 0 0-7.4-4.7"></path><path d="M22 13a9 9 0 0 0-14.2-3.2"></path></svg>
                            </div>
                            <h3>Cidade Resiliente</h3>
                            <p>Mantenha a cidade fluindo, mesmo nos dias de chuva intensa, garantindo a seguran√ßa da popula√ß√£o.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="promo-section dark-bg">
                <div class="container">
                    <h2>Impacto Ambiental Positivo</h2>
                    <p>Vamos al√©m do saneamento. Nosso sistema transforma o monitoramento eficiente dos bueiros inteligentes em a√ß√µes que geram impacto ambiental positivo para a cidade.</p>
                    <div class="features-grid">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3v1.5"></path><path d="M18.4 6.6l-1-1"></path><path d="M21 12.5h-1.5"></path><path d="M18.4 18.4l-1-1"></path><path d="M12 19.5V21"></path><path d="M5.6 18.4l1-1"></path><path d="M3 12.5H1.5"></path><path d="M5.6 6.6l1-1"></path><path d="M16 8a4 4 0 0 0-8 0c0 2 2 3 2 4v2h4v-2c0-1 2-2 2-4Z"></path><path d="M12 18.5A2.5 2.5 0 0 1 9.5 16h5A2.5 2.5 0 0 1 12 18.5Z"></path></svg>
                            </div>
                            <h3>Redu√ß√£o de Res√≠duos</h3>
                            <p>Minimiza o ac√∫mulo de lixo e res√≠duos em bueiros, prevenindo alagamentos e contamina√ß√£o urbana.</p>
                        </div>

                        <div class="feature-card">
                            <div class="feature-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0L12 2.69z"></path></svg>
                            </div>
                            <h3>Economia Circular</h3>
                            <p>Feche o ciclo da sustentabilidade, garantindo que res√≠duos sejam aproveitados de maneira eficiente.</p>
                        </div>

                        <div class="feature-card">
                            <div class="feature-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22c-3.3 0-6-2.7-6-6v-2c0-3.3 2.7-6 6-6s6 2.7 6 6v2c0 3.3-2.7 6-6 6z"></path><path d="M12 8V2"></path><path d="m15 5-3 3-3-3"></path></svg>
                            </div>
                            <h3>Sustentabilidade</h3>
                            <p>Posicione sua cidade como um modelo de inova√ß√£o e responsabilidade ambiental.</p>
                        </div>
                    </div>

                    <div class="transformation-stats">
                        <h3>Destino do Lixo Coletado</h3>
                        <p style="margin-bottom: 2rem;">Todo res√≠duo capturado pelos bueiros inteligentes passa por triagem e processamento:</p>
                        
                        <div class="stats-row">
                            <div class="stat-box energy">
                                <div class="stat-icon-large">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>
                                </div>
                                <span class="stat-percent">70%</span>
                                <span class="stat-label">Energia Limpa</span>
                                <p class="stat-desc">Biog√°s gerado para abastecer a rede p√∫blica.</p>
                            </div>
                            
                            <div class="stat-divider">+</div>

                            <div class="stat-box fertilizer">
                                <div class="stat-icon-large">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>
                                </div>
                                <span class="stat-percent">30%</span>
                                <span class="stat-label">Mat√©ria Prima</span>
                                <p class="stat-desc">Insumos recuperados retornam para a ind√∫stria.</p>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <footer class="site-footer">
                <div class="container footer-content">
                    <p>Bueiro Inteligente - Transformando cidades, um bueiro de cada vez.</p>
                    <div class="social-links">
                        <a href="#" aria-label="LinkedIn"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg></a>
                        <a href="#" aria-label="Twitter"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a>
                    </div>
                    <p class="copyright" id="copyright-year"></p>
                </div>
            </footer>
        </div>

        <div id="login" class="page container">
            <div class="form-container">
                <h2>Acesso √† Plataforma</h2>
                <form onsubmit="return handleLogin(event)">
                    <div class="form-group"><label for="loginEmail">Email:</label><input type="email" id="loginEmail" required></div>
                    <div class="form-group">
                        <label for="loginPassword">Senha:</label>
                        <div class="password-wrapper">
                            <input type="password" id="loginPassword" required>
                            <button type="button" class="toggle-password-btn" onclick="togglePassword('loginPassword', this)">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                            </button>
                        </div>
                    </div>
                    <button type="submit" id="loginBtn" class="btn btn-primary" style="width:100%;margin-top:1rem">Entrar</button>
                    <p style="text-align:center;margin-top:1.5rem">N√£o tem uma conta? <a href="#" onclick="showPage('register')">Cadastre-se</a></p>
                </form>
            </div>
        </div>

        <div id="register" class="page container">
            <div class="form-container">
                <h2>Crie sua Conta</h2>
                <form onsubmit="return handleRegister(event)">
                    <div class="form-group"><label for="registerName">Nome Completo:</label><input type="text" id="registerName" required></div>
                    <div class="form-group"><label for="registerEmail">Email:</label><input type="email" id="registerEmail" required></div>
                    
                    <div class="form-group">
                        <label for="registerPassword">Senha (m√≠n. 6 caracteres):</label>
                        <div class="password-wrapper">
                            <input type="password" id="registerPassword" required>
                            <button type="button" class="toggle-password-btn" onclick="togglePassword('registerPassword', this)">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                            </button>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="registerConfirmPassword">Confirmar Senha:</label>
                        <div class="password-wrapper">
                            <input type="password" id="registerConfirmPassword" required>
                            <button type="button" class="toggle-password-btn" onclick="togglePassword('registerConfirmPassword', this)">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                            </button>
                        </div>
                    </div>

                    <button type="submit" id="registerBtn" class="btn btn-primary" style="width:100%;margin-top:1rem">Cadastrar</button>
                    <p style="text-align:center;margin-top:1.5rem">J√° tem uma conta? <a href="#" onclick="showPage('login')">Entrar</a></p>
                </form>
            </div>
        </div>

        <div id="contato" class="page container">
            <div class="form-container" style="max-width: 800px;">
                <h2>Entre em Contato Conosco</h2>
                <p style="text-align:center; margin-bottom: 2rem; color: var(--text-secondary);">Estamos aqui para responder suas perguntas. Preencha o formul√°rio ou utilize um dos canais abaixo.</p>
                <form action="https://formspree.io/f/mqadrqkl" method="POST">
                    <div class="form-group"><label for="contactName">Seu Nome:</label><input type="text" id="contactName" name="name" required></div>
                    <div class="form-group"><label for="contactEmail">Seu Email:</label><input type="email" id="contactEmail" name="email" required></div>
                    <div class="form-group"><label for="contactMessage">Sua Mensagem:</label><textarea id="contactMessage" name="message" required></textarea></div>
                    <button type="submit" class="btn btn-primary" style="width:100%">Enviar Mensagem</button>
                </form>
                <ul class="contact-details">
                    <li><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg> contato@bueirointeligente.com.br</li>
                    <li><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg> +55 (11) 4433-2211</li>
                    <li><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg> Av. Inova√ß√£o, 123 - Bairro Jardim, Santo Andr√© - SP, Brasil</li>
                </ul>
            </div>
        </div>

        <div id="bueiros" class="page container">
            <h2 style="color: var(--accent-primary); text-align: center; margin-bottom: 2rem; font-size: 2.5rem;">Monitoramento em Tempo Real</h2>
            <div class="bueiros-grid" id="bueiros-grid-content"></div>
        </div>

        <div id="solicitar" class="page container">
            <div class="form-container">
                <h2>Solicitar Bueiro Inteligente</h2>
                <p style="text-align:center;margin-bottom:2rem;color:var(--text-secondary)">
                    Preencha o endere√ßo e nos conte por que esse local precisa de um Bueiro Inteligente.
                </p>
                
                <form onsubmit="return handleRequestSewer(event)">
                    <div class="form-group">
                        <label for="requestAddress">Endere√ßo Completo:</label>
                        <input type="text" id="requestAddress" placeholder="Ex: Av. Industrial, 1580, Santo Andr√©" required>
                    </div>

                    <div class="form-group">
                        <label for="requestReason">Motivo da Solicita√ß√£o:</label>
                        <textarea id="requestReason" placeholder="Ex: A rua alaga sempre que chove forte; bueiro entupido..." required rows="3" style="width: 100%; padding: 0.8rem; border-radius: 8px; border: 1px solid var(--border-input); background: var(--bg-input); color: var(--text-primary); font-family: inherit; resize: vertical;"></textarea>
                    </div>

                    <button type="submit" class="btn btn-primary" style="width:100%;margin-top:1rem">Enviar Solicita√ß√£o</button>
                </form>
            </div>
        </div>
    </main>

    <div id="notification" class="notification"><span id="notification-text"></span></div>

    <!-- Modal de Coleta de Emerg√™ncia -->
    <div id="collection-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="#e74c3c" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
                <h2>Capacidade Cr√≠tica Atingida!</h2>
            </div>
            <div class="modal-body">
                <p>O sensor <strong id="modal-sensor-id">#0</strong> atingiu n√≠vel cr√≠tico.</p>
                <p class="location-text" id="modal-sensor-location">Rua...</p>
                <div class="level-indicator">
                    N√≠vel Atual: <span id="modal-sensor-level" style="color: #e74c3c; font-weight: bold;">98%</span>
                </div>
                <p>Deseja despachar a equipe de coleta imediatamente?</p>
            </div>
            <div class="modal-actions">
                <button class="btn btn-secondary" onclick="closeCollectionModal()">Ignorar</button>
                <button class="btn btn-primary" id="confirm-collection-btn" style="background-color: #e74c3c; border-color: #c0392b;">üö® Enviar Caminh√£o</button>
            </div>
        </div>
    </div>

    <script src="/js/cliente.js"></script>
</body>
</html>